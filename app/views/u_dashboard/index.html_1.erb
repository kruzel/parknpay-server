<div class="container" style="padding-top: 80px;">

  
  <% unless flash.empty? %>
  <% flash.each do |name, msg| %>
    <%= content_tag :div, :class => "alert alert-#{name}", :data => {:alert => nil},:id => "flash_#{name}" do%>
      <button type="button" class="close" data-dismiss="alert-#{name}">&times;</button>
      <%= msg %>
    <% end %>
  <% end %>
<% end %>
  

  
  <div id="myTab" class="btn-group" data-toggle="buttons-radio" style="padding: 20px 0px;">
    <a href="#General" class="btn btn-large btn-primary active" data-toggle="tab"><i class="icon-screenshot"></i>General</a>
    <a href="#Personal" class="btn btn-large btn-primary" data-toggle="tab"><i class="icon-user"></i>Personal</a>
    <a href="#Personal2" class="btn btn-large btn-primary" data-toggle="tab"><i class="icon-user"></i>Personal2</a>
    <a href="#Cars" class="btn btn-large btn-primary" data-toggle="tab"><i class="icon-road"></i>Cars</a>
    <a href="#Payment" class="btn btn-large btn-primary" data-toggle="tab"><i class="icon-briefcase"></i>Payment</a>
    <a href="#History" class="btn btn-large btn-primary" data-toggle="tab"><i class="icon-time"></i>History</a>
    <a href="#messages" class="btn btn-large btn-primary"  data-toggle="tab"><i class="icon-envelope"></i>messages</a>
  </div>
  <div class="tab-content">
    <div class="tab-pane active" id="General">
      <div class="row-fluid">
        <div class="span12">
          <div id="map_canvas" style="width:100%;height:350px;"></div>
        </div>
      </div>
    </div>
        <div class="tab-pane" id="Personal2">
    </div>
    
    <div class="tab-pane" id="Personal">
      <h2>Personal information</h2>
      <%= form_for(@user,:url => { :action => "update" }, :multipart => true ,:html => {:multipart => true,:class => "form-horizontal"}) do |f| %>
        <div class="row-fluid">
          <div class="span12">
            <div class="span9">
              <div class="control-group">
                <%= f.label :"First name" ,:class=>"control-label" %>
                <div class="controls">
                  <%= f.text_field :firstname , :placeholder=>"First name"%>
                </div>
              </div>

              <div class="control-group">
                <%= f.label :"Last name" ,:class=>"control-label" %>
                <div class="controls">
                  <%= f.text_field :lastname , :placeholder=>"Last name" %>
                </div>
              </div>

              <div class="control-group">
                <%= f.label :"Street address" ,:class=>"control-label" %>
                <div class="controls">
                  <%= f.text_field :address_st , :placeholder=>"Street address" %>
                </div>
              </div>

              <div class="control-group">
                <%= f.label :email ,:class=>"control-label"%>
                <div class="controls">
                  <%= f.email_field :email, :placeholder=>"Email", :autofocus => true %>
                </div>
              </div>

              <div class="control-group">
                <%= f.label :"Profile picture" ,:class=>"control-label" %>
                <div class="controls">
                  <%= image_tag @user.avatar.url(:thumb),:class=>"img-rounded"  %>
                  <%= f.file_field :avatar %>
                </div>
              </div>


              <div class="control-group">
                <div class="controls">
                  <%= f.submit "Update" %>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
    <div class="tab-pane" id="Cars">
      <h2>List of cars</h2>
      <ul class="thumbnails">
        <% @cars.each do |car| %>
          <li class="span5 clearfix">
            <div class="thumbnail clearfix">
              <%= image_tag car.car_image.url(:thumb),:class=>"pull-left span2 clearfix", :style=>'margin-right:10px' %>
              <div class="caption pull-right">
                <%= link_to 'Show', [car.user, car], :class=>"btn btn-primary icon" %>
                <%= link_to 'Edit', edit_user_car_path(car.user,car), :class=>"btn btn-warning icon" %>
                <%= link_to 'Destroy', [car.user, car], method: :delete, data: { confirm: 'Are you sure?' }, :class=>"btn btn-danger icon"  %>

                <h4><a href="#" ><%= car.car_description %></a></h4>
                <small><b>License plate: </b><%= car.license_plate %></small>
              </div>
            </div>
          </li>
        <% end %>

      </ul>
    </div>
    <div class="tab-pane" id="Payment">
      <form class="form-horizontal span8">
        <fieldset>
          <legend>Payment</legend>

          <div class="control-group">
            <label class="control-label">Card Holder's Name</label>
            <div class="controls">
              <input type="text" class="input-block-level" pattern="\w+ \w+.*" title="Fill your first and last name" required>
            </div>
          </div>

          <div class="control-group">
            <label class="control-label">Card Number</label>
            <div class="controls">
              <div class="row-fluid">
                <div class="span3">
                  <input type="text" class="input-block-level" autocomplete="off" maxlength="4" pattern="\d{4}" title="First four digits" required>
                </div>
                <div class="span3">
                  <input type="text" class="input-block-level" autocomplete="off" maxlength="4" pattern="\d{4}" title="Second four digits" required>
                </div>
                <div class="span3">
                  <input type="text" class="input-block-level" autocomplete="off" maxlength="4" pattern="\d{4}" title="Third four digits" required>
                </div>
                <div class="span3">
                  <input type="text" class="input-block-level" autocomplete="off" maxlength="4" pattern="\d{4}" title="Fourth four digits" required>
                </div>
              </div>
            </div>
          </div>

          <div class="control-group">
            <label class="control-label">Card Expiry Date</label>
            <div class="controls">
              <div class="row-fluid">
                <div class="span9">
                  <select class="input-block-level">
                    <option>January</option>
                    <option>...</option>
                    <option>December</option>
                  </select>
                </div>
                <div class="span3">
                  <select class="input-block-level">
                    <option>2013</option>
                    <option>...</option>
                    <option>2015</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div class="control-group">
            <label class="control-label">Card CVV</label>
            <div class="controls">
              <div class="row-fluid">
                <div class="span3">
                  <input type="text" class="input-block-level" autocomplete="off" maxlength="3" pattern="\d{3}" title="Three digits at back of your card" required>
                </div>
                <div class="span8">
                  <!-- screenshot may be here -->
                </div>
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary">Submit</button>
            <button type="button" class="btn">Cancel</button>
          </div>
        </fieldset>
      </form>

    </div>
    <div class="tab-pane" id="History">
      payment history
    </div>
    <div class="tab-pane" id="messages">
      <table class="table table-condensed table-hover">
        <thead>
          <tr>
            <th class="span1"><input type="checkbox"></th>
            <th class="span2"></th>
            <th class="span2"></th>
            <th class="span9"></th>
            <th class="span2"></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="checkbox"> <a href="#"><i class="icon-star-empty"></i></a></td>
            <td><strong>John Doe</strong></td>
            <td><span class="label pull-right">Notifications</span></td>
            <td><strong>Message body goes here</strong></td>
            <td><strong>11:23 PM</strong></td>
          </tr>
          <tr>
            <td><input type="checkbox"> <a href="#"><i class="icon-star-empty"></i></a></td>
            <td>John Doe</td>
            <td><span class="label pull-right">Notifications</span></td>
            <td>Message body goes here</td>
            <td>Sept4</td>
          </tr>
          <tr>
            <td><input type="checkbox"> <a href="#"><i class="icon-star"></i></a></td>
            <td><strong>John Doe</strong></td>
            <td><span class="label pull-right">Notifications</span></td>
            <td><strong>Message body goes here</strong></td>
            <td><strong>Sept3</strong></td>
          </tr>
          <tr>
            <td><input type="checkbox"> <a href="#"><i class="icon-star"></i></a></td>
            <td><strong>John Doe</strong></td>
            <td><span class="label pull-right">Notifications</span></td>
            <td><strong>Message body goes here</strong></td>
            <td><strong>Sept3</strong></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<script>
  $('#myTab a').click(function(e) {
    e.preventDefault();
    $(this).tab('show');
  })
</script>


<%= javascript_include_tag "http://maps.googleapis.com/maps/api/js?key=AIzaSyC6mNDw1ovtoHdf2EhOysA7drYS5JT5QCw&sensor=false" %>

<script>
  var myCenter = new google.maps.LatLng(-33.878199, 151.234898);
  function initialize()
  {
    var mapProp = {
      center: myCenter,
      zoom: 12,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    // Array object
    var map = new google.maps.Map(document.getElementById("map_canvas"), mapProp);

    var marker = new google.maps.Marker({
      position: myCenter,
    });

    marker.setMap(map);
  }
  google.maps.event.addDomListener(window, 'load', initialize);

</script>